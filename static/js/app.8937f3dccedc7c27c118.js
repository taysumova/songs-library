webpackJsonp([1],{"3sG5":function(t,e){},"6nWw":function(t,e){},"7zck":function(t,e){},"8Awn":function(t,e){},B0DX:function(t,e){},"Ik/w":function(t,e){},LzM5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{staticClass:"teal",attrs:{fixed:"",dark:""}},[n("v-toolbar-title",{staticClass:"mr-4"},[n("span",{staticClass:"home",on:{click:function(e){return t.navigateTo({name:"root"})}}},[t._v("\n          Сборник песен\n      ")])]),t._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"songs"})}}},[t._v("\n            Список моих песен\n        ")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",[t.$store.state.isUserLoggedIn?t._e():n("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"login"})}}},[t._v("\n      Войти\n    ")]),t._v(" "),t.$store.state.isUserLoggedIn?t._e():n("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"register"})}}},[t._v("\n      Регистрация\n    ")]),t._v(" "),t.$store.state.isUserLoggedIn?n("v-btn",{attrs:{flat:"",dark:""},on:{click:t.logout}},[t._v("\n      Выйти\n    ")]):t._e()],1)],1)},staticRenderFns:[]};var a={name:"App",components:{PageHeader:n("VU/8")({methods:{navigateTo:function(t){this.$router.push(t)},logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"root"})}}},r,!1,function(t){n("B0DX")},"data-v-3125f403",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("main",[e("page-header"),this._v(" "),e("v-container",{attrs:{fluid:""}}),this._v(" "),e("router-view")],1)])],1)},staticRenderFns:[]};var l=n("VU/8")(a,o,!1,function(t){n("8Awn")},null,null).exports,i=n("/ocq"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("p",[this._v("Создай свой сборник песен")])])},staticRenderFns:[]};var c=n("VU/8")({name:"Home",data:function(){return{msg:"Сборник песен"}}},u,!1,function(t){n("yhNW")},"data-v-18f467b3",null).exports,v=n("Xxa5"),p=n.n(v),d=n("exGp"),m=n.n(d),g=n("mtWM"),f=n.n(g),b=function(){return f.a.create({baseURL:"https://songs-library.herokuapp.com"})},x=function(t){return b().post("register",t)},_=function(t){return b().post("login",t)},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white elevation-2"},[n("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:"",dark:""}},[n("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),t._t("action")],2),t._v(" "),n("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",[t._v("Загрузка...")])],2)],1)},staticRenderFns:[]};var k=n("VU/8")({props:["title"]},h,!1,function(t){n("6nWw")},"data-v-4170eaf8",null).exports,w={name:"Register",data:function(){return{email:"",password:"",error:null}},components:{Panel:k},methods:{register:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({email:t.email,password:t.password});case 3:n=e.sent,t.$store.dispatch("setToken",n.data.token),t.$store.dispatch("setUser",n.data.user),t.$router.push({name:"root"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("panel",{attrs:{title:"Регистрация"}},[n("v-text-field",{attrs:{type:"email",name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{type:"password",name:"password",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("div",{staticClass:"error-msg",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.register}},[t._v("Зарегистрироваться")])],1)],1)],1)},staticRenderFns:[]};var $=n("VU/8")(w,y,!1,function(t){n("Ik/w")},null,null).exports,I={name:"Login",data:function(){return{email:"",password:"",error:null}},components:{Panel:k},methods:{login:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_({email:t.email,password:t.password});case 3:n=e.sent,t.$store.dispatch("setToken",n.data.token),t.$store.dispatch("setUser",n.data.user),t.$router.push({name:"root"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("panel",{attrs:{title:"Аутентификация"}},[n("v-text-field",{attrs:{type:"email",name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{type:"password",name:"password",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("div",{staticClass:"error-msg",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.login}},[t._v("\n        Вперед\n      ")])],1)],1)],1)},staticRenderFns:[]};var U=n("VU/8")(I,C,!1,function(t){n("m8Tp")},null,null).exports,q=function(){return b().get("songs")},T=function(t){return b().get("songs/"+t)},E=function(t){return b().post("songs",t)},R=function(t){return b().put("songs/"+t.id,t)},P={name:"Songs",components:{Panel:k},data:function(){return{songs:[]}},mounted:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t.songs=e.sent.data;case 3:case"end":return e.stop()}},e,t)}))()},methods:{navigateTo:function(t){this.$router.push(t)}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs9:""}},[n("panel",{attrs:{title:"Список моих песен"}},[n("v-btn",{staticClass:"teal accent-2",attrs:{slot:"action",fab:"",absolute:"",right:"",light:""},slot:"action"},[n("router-link",{attrs:{to:{name:"songs-create"}}},[n("v-icon",[t._v("add")])],1)],1),t._v(" "),t._l(t.songs,function(e){return n("div",{key:e.id,staticClass:"song"},[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("img",{staticClass:"album-image",attrs:{src:e.albumImageUrl,alt:"Album cover"}})]),t._v(" "),n("v-flex",{staticClass:"pt-4 pl-2 pr-2 pb-2",attrs:{xs6:"",center:""}},[n("div",{staticClass:"song-title"},[t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),n("div",{staticClass:"song-artist"},[t._v("\n              "+t._s(e.artist)+"\n            ")]),t._v(" "),n("div",{staticClass:"song-genre"},[t._v("\n              "+t._s(e.genre)+"\n            ")]),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:function(n){return t.navigateTo({name:"song",params:{songId:e.id}})}}},[t._v("\n              Открыть\n            ")])],1)],1)],1)})],2)],1)],1)},staticRenderFns:[]};var F=n("VU/8")(P,V,!1,function(t){n("LzM5")},"data-v-7bd84814",null).exports,L=n("fZjL"),z=n.n(L),M={data:function(){return{song:{title:null,artist:null,genre:null,album:null,albumImageUrl:null,youtubeId:null,lyrics:null,tab:null},error:null,required:function(t){return!!t||"Необходимо заполнить"}}},components:{Panel:k},methods:{add:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,z()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Пожалуйста, заполните все поля",e.abrupt("return");case 5:return e.prev=5,e.next=8,E(t.song);case 8:t.$router.push({name:"songs"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}},e,t,[[5,11]])}))()}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-2 pt-2 pb-2",attrs:{xs4:""}},[n("panel",{attrs:{title:"Данные о песне"}},[n("v-text-field",{attrs:{required:"",rules:[t.required],name:"title",label:"Название"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"artist",label:"Исполнитель"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"genre",label:"Жанр"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"album",label:"Альбом"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"albumImageUrl",label:"Постер"},model:{value:t.song.albumImageUrl,callback:function(e){t.$set(t.song,"albumImageUrl",e)},expression:"song.albumImageUrl"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"youtubeId",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1),t._v(" "),n("v-flex",{staticClass:"pl-2 pr-4 pt-2 pb-2",attrs:{xs8:""}},[n("panel",{attrs:{title:"Текст песни"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[n("v-textarea",{attrs:{name:"lyrics",label:"Текст песни",rows:"19"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[n("v-textarea",{attrs:{name:"tab",label:"Перевод",rows:"19"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{center:""}},[t.error?n("div",{staticClass:"error-msg"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.add}},[t._v("Добавить песню")])],1)],1)},staticRenderFns:[]};var A=n("VU/8")(M,j,!1,function(t){n("hT9o")},null,null).exports,N={props:["song"],methods:{navigateTo:function(t){this.$router.push(t)}},components:{Panel:k}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Информация о песне"}},[n("v-layout",{staticClass:"song",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"mt-4",attrs:{xs6:""}},[n("img",{staticClass:"album-image",attrs:{src:t.song.albumImageUrl,alt:"Album cover"}}),t._v(" "),n("div",{staticClass:"song-album"},[t._v("\n        "+t._s(t.song.album)+"\n      ")])]),t._v(" "),n("v-flex",{staticClass:"mt-4",attrs:{xs6:""}},[n("div",{staticClass:"song-title"},[t._v("\n        "+t._s(t.song.title)+"\n      ")]),t._v(" "),n("div",{staticClass:"song-artist"},[t._v("\n        "+t._s(t.song.artist)+"\n      ")]),t._v(" "),n("div",{staticClass:"song-genre"},[t._v("\n        "+t._s(t.song.genre)+"\n      ")]),t._v(" "),n("v-btn",{staticClass:"teal darken-4 mt-4",attrs:{dark:""},on:{click:function(e){return t.navigateTo({name:"songs-edit",params:{songId:t.song.id}})}}},[t._v("\n        Отредактировать\n      ")])],1)],1)],1)},staticRenderFns:[]};var W={props:["youtubeId"],components:{Panel:k}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("panel",{attrs:{title:"Видеоклип"}},[e("youtube",{attrs:{"video-id":this.youtubeId,"player-width":"680","player-height":"400"}})],1)},staticRenderFns:[]};var S={props:["lyrics"],components:{Panel:k}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Текст песни"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyrics,expression:"lyrics"}],attrs:{readonly:"",rows:"30"},domProps:{value:t.lyrics},on:{input:function(e){e.target.composing||(t.lyrics=e.target.value)}}})])},staticRenderFns:[]};var O={props:["translation"],components:{Panel:k}},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Перевод"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.translation,expression:"translation"}],attrs:{readonly:"",rows:"30"},domProps:{value:t.translation},on:{input:function(e){e.target.composing||(t.translation=e.target.value)}}})])},staticRenderFns:[]},B={data:function(){return{song:{}}},mounted:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.route.params.songId,e.next=3,T(n);case 3:t.song=e.sent.data[0];case 4:case"end":return e.stop()}},e,t)}))()},components:{SongMetadata:n("VU/8")(N,H,!1,function(t){n("zz6m")},"data-v-28b4c2cd",null).exports,YouTube:n("VU/8")(W,Y,!1,function(t){n("gp0Y")},null,null).exports,Lyrics:n("VU/8")(S,G,!1,function(t){n("tz5k")},null,null).exports,Translation:n("VU/8")(O,X,!1,null,null,null).exports}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-layout",{attrs:{column:""}},[e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs10:""}},[e("song-metadata",{attrs:{song:this.song}})],1),this._v(" "),e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs10:""}},[e("you-tube",{attrs:{youtubeId:this.song.youtubeId}})],1)],1),this._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[e("lyrics",{attrs:{lyrics:this.song.lyrics}})],1),this._v(" "),e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[e("translation",{attrs:{translation:this.song.tab}})],1)],1)],1)},staticRenderFns:[]};var J=n("VU/8")(B,D,!1,function(t){n("3sG5")},null,null).exports,Z={data:function(){return{song:{title:null,artist:null,genre:null,album:null,albumImageUrl:null,youtubeId:null,lyrics:null,tab:null},error:null,required:function(t){return!!t||"Необходимо заполнить"}}},components:{Panel:k},methods:{saveSong:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,z()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Пожалуйста, заполните все поля",e.abrupt("return");case 5:return n=t.$store.state.route.params.songId,e.prev=6,e.next=9,R(t.song);case 9:t.$router.push({name:"song",params:{songId:n}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[6,12]])}))()}},mounted:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$store.state.route.params.songId,e.next=4,T(n);case 4:t.song=e.sent.data[0],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-2 pt-2 pb-2",attrs:{xs4:""}},[n("panel",{attrs:{title:"Данные о песне"}},[n("v-text-field",{attrs:{required:"",rules:[t.required],name:"title",label:"Название"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"artist",label:"Исполнитель"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"genre",label:"Жанр"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"album",label:"Альбом"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"albumImageUrl",label:"Постер"},model:{value:t.song.albumImageUrl,callback:function(e){t.$set(t.song,"albumImageUrl",e)},expression:"song.albumImageUrl"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"youtubeId",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1),t._v(" "),n("v-flex",{staticClass:"pl-2 pr-4 pt-2 pb-2",attrs:{xs8:""}},[n("panel",{attrs:{title:"Текст песни"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[n("v-textarea",{attrs:{name:"lyrics",label:"Текст песни",rows:"19"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[n("v-textarea",{attrs:{name:"tab",label:"Перевод",rows:"19"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{center:""}},[t.error?n("div",{staticClass:"error-msg"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.saveSong}},[t._v("Сохранить")])],1)],1)},staticRenderFns:[]};var Q=n("VU/8")(Z,K,!1,function(t){n("vvI9")},"data-v-5fc61f28",null).exports;s.default.use(i.a);var tt=new i.a({routes:[{path:"/",name:"root",component:c},{path:"/register",name:"register",component:$},{path:"/login",name:"login",component:U},{path:"/songs",name:"songs",component:F},{path:"/songs/create",name:"songs-create",component:A},{path:"/songs/:songId",name:"song",component:J},{path:"/songs/:songId/edit",name:"songs-edit",component:Q}]}),et=n("3EgV"),nt=n.n(et),st=n("9JMe"),rt=(n("7zck"),n("NYxO"));s.default.use(rt.a);var at=new rt.a.Store({strict:!0,state:{user:"",token:null,isUserLoggedIn:!1},mutations:{setToken:function(t,e){t.token=e,t.isUserLoggedIn=!!e},setUser:function(t,e){t.user=e}},actions:{setToken:function(t,e){(0,t.commit)("setToken",e)},setUser:function(t,e){(0,t.commit)("setUser",e)}}}),ot=n("5/be");s.default.config.productionTip=!1,s.default.use(nt.a),s.default.use(ot.a),Object(st.sync)(at,tt),new s.default({el:"#app",router:tt,store:at,components:{App:l},template:"<App/>"})},gp0Y:function(t,e){},hT9o:function(t,e){},m8Tp:function(t,e){},tz5k:function(t,e){},vvI9:function(t,e){},yhNW:function(t,e){},zz6m:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8937f3dccedc7c27c118.js.map