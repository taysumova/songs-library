webpackJsonp([1],{"0t0+":function(t,e){},"7Q1d":function(t,e){},"7zck":function(t,e){},"8Awn":function(t,e){},HKHG:function(t,e){},J6J2:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{staticClass:"teal",attrs:{fixed:"",dark:""}},[n("v-toolbar-title",{staticClass:"mr-4"},[n("router-link",{staticClass:"home",attrs:{tag:"span",to:{name:"root"}}},[t._v("\n      Сборник песен\n    ")])],1),t._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{flat:"",dark:"",to:{name:"songs"}}},[t._v("\n      Список песен\n    ")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",[t.$store.state.isUserLoggedIn?t._e():n("v-btn",{attrs:{flat:"",dark:"",to:{name:"login"}}},[t._v("\n      Войти\n    ")]),t._v(" "),t.$store.state.isUserLoggedIn?t._e():n("v-btn",{attrs:{flat:"",dark:"",to:{name:"register"}}},[t._v("\n      Регистрация\n    ")]),t._v(" "),t.$store.state.isUserLoggedIn?n("v-btn",{attrs:{flat:"",dark:""},on:{click:t.logout}},[t._v("\n      Выйти\n    ")]):t._e()],1)],1)},staticRenderFns:[]};var a={name:"App",components:{PageHeader:n("VU/8")({methods:{logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"root"})}}},s,!1,function(t){n("HKHG")},"data-v-6cd881a4",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("main",[e("page-header"),this._v(" "),e("v-container",{attrs:{fluid:""}}),this._v(" "),e("router-view")],1)])],1)},staticRenderFns:[]};var l=n("VU/8")(a,o,!1,function(t){n("8Awn")},null,null).exports,i=n("/ocq"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("p",[this._v("Создай свой сборник песен")])])},staticRenderFns:[]};var c=n("VU/8")({name:"Home",data:function(){return{msg:"Сборник песен"}}},u,!1,function(t){n("yhNW")},"data-v-18f467b3",null).exports,d=n("Xxa5"),p=n.n(d),v=n("exGp"),m=n.n(v),f=n("mtWM"),g=n.n(f),b=n("NYxO"),h=n("424j");r.default.use(b.a);var x=new b.a.Store({strict:!0,plugins:[Object(h.a)()],state:{user:"",token:null,isUserLoggedIn:!1},mutations:{setToken:function(t,e){t.token=e,t.isUserLoggedIn=!!e},setUser:function(t,e){t.user=e}},actions:{setToken:function(t,e){(0,t.commit)("setToken",e)},setUser:function(t,e){(0,t.commit)("setUser",e)}}}),_=function(){return g.a.create({baseURL:"https://songs-library.herokuapp.com",headers:{Authorization:"Bearer "+x.state.token}})},k=function(t){return _().post("register",t)},w=function(t){return _().post("login",t)},y={name:"Register",data:function(){return{email:"",password:"",error:null}},methods:{register:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({email:t.email,password:t.password});case 3:n=e.sent,t.$store.dispatch("setToken",n.data.token),t.$store.dispatch("setUser",n.data.user),t.$router.push({name:"root"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("panel",{attrs:{title:"Регистрация"}},[n("v-text-field",{attrs:{type:"email",name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{type:"password",name:"password",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("div",{staticClass:"error-msg",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.register}},[t._v("Зарегистрироваться")])],1)],1)],1)},staticRenderFns:[]};var U=n("VU/8")(y,I,!1,function(t){n("k1PI")},null,null).exports,$={name:"Login",data:function(){return{email:"",password:"",error:null}},methods:{login:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({email:t.email,password:t.password});case 3:n=e.sent,t.$store.dispatch("setToken",n.data.token),t.$store.dispatch("setUser",n.data.user),t.$router.push({name:"songs"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("panel",{attrs:{title:"Аутентификация"}},[n("v-text-field",{attrs:{type:"email",name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("v-text-field",{attrs:{type:"password",name:"password",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("div",{staticClass:"error-msg",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.login}},[t._v("\n        Вперед\n      ")])],1)],1)],1)},staticRenderFns:[]};var q,L=n("VU/8")($,C,!1,function(t){n("lsfd")},null,null).exports,V=n("Dd8w"),E=n.n(V),R=n("M4fF"),F={data:function(){return{search:""}},watch:{search:n.n(R).a.debounce((q=m()(p.a.mark(function t(e){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={name:"songs"},""!==this.search&&(n.query={search:this.search}),this.$router.push(n);case 3:case"end":return t.stop()}},t,this)})),function(t){return q.apply(this,arguments)}),700),"$route.query.search":{immediate:!0,handler:function(t){this.search=t}}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Поиск"}},[n("v-text-field",{attrs:{label:"Поиск по названию, исполнителю, альбому или жанру"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)},staticRenderFns:[]},H=n("VU/8")(F,j,!1,null,null,null).exports,S=function(t){return _().get("songs",{params:{search:t}})},T=function(t){return _().get("songs/"+t)},A=function(t){return _().post("songs",t)},O=function(t){return _().put("songs/"+t.id,t)},P={name:"Songs",data:function(){return{songs:[]}},watch:{"$route.query.search":{immediate:!0,handler:function(t){var e=this;return m()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t);case 2:e.songs=n.sent.data;case 3:case"end":return n.stop()}},n,e)}))()}}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Список песен"}},[n("v-btn",{staticClass:"teal accent-2",attrs:{slot:"action",fab:"",absolute:"",right:"",light:""},slot:"action"},[n("router-link",{attrs:{to:{name:"songs-create"}}},[n("v-icon",[t._v("add")])],1)],1),t._v(" "),t._l(t.songs,function(e){return n("div",{key:e.id,staticClass:"song"},[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("img",{staticClass:"album-image",attrs:{src:e.albumImageUrl,alt:"Album cover"}})]),t._v(" "),n("v-flex",{staticClass:"pt-4 pl-2 pr-2 pb-2",attrs:{xs6:"",center:""}},[n("div",{staticClass:"song-title"},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),n("div",{staticClass:"song-artist"},[t._v("\n          "+t._s(e.artist)+"\n        ")]),t._v(" "),n("div",{staticClass:"song-genre"},[t._v("\n          "+t._s(e.genre)+"\n        ")]),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:"",to:{name:"song",params:{songId:e.id}}}},[t._v("\n          Открыть\n        ")])],1)],1)],1)})],2)},staticRenderFns:[]};var B=n("VU/8")(P,N,!1,function(t){n("NSHe")},"data-v-8d6f0582",null).exports,M=function(t){return _().get("bookmarks",{params:t})},J=function(t){return _().post("bookmarks",{songId:t.songId,userId:t.userId})},K=function(t){return _().delete("bookmarks/"+t)},Q={data:function(){return{headers:[{text:"Название",value:"title"},{text:"Исполнитель",value:"artist"}],pagination:{sortBy:"date",descending:!0},bookmarks:[]}},computed:E()({},Object(b.b)(["isUserLoggedIn","user"])),mounted:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isUserLoggedIn){e.next=4;break}return e.next=3,M();case 3:t.bookmarks=e.sent.data;case 4:case"end":return e.stop()}},e,t)}))()}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Избранное"}},[n("v-data-table",{attrs:{headers:t.headers,pagination:t.pagination,items:t.bookmarks},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v("\n              "+t._s(e.item.title)+"\n          ")]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v("\n              "+t._s(e.item.artist)+"\n          ")])]}}])})],1)},staticRenderFns:[]};var Y=n("VU/8")(Q,W,!1,function(t){n("J6J2")},null,null).exports,z=function(t){return _().get("history",{params:t})},D=function(t){return _().post("history",t)},G={data:function(){return{headers:[{text:"Название",value:"title"},{text:"Исполнитель",value:"artist"}],pagination:{sortBy:"createdAt",descending:!0},history:[]}},computed:E()({},Object(b.b)(["isUserLoggedIn","user"])),mounted:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isUserLoggedIn){e.next=4;break}return e.next=3,z();case 3:t.history=e.sent.data;case 4:case"end":return e.stop()}},e,t)}))()}},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"История просмотров"}},[n("v-data-table",{attrs:{headers:t.headers,pagination:t.pagination,items:t.history},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v("\n              "+t._s(e.item.title)+"\n          ")]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v("\n              "+t._s(e.item.artist)+"\n          ")])]}}])})],1)},staticRenderFns:[]};var Z={components:{SongsPanel:B,SongsSearchPanel:H,SongsBookmarks:Y,RecentlyViewedSongs:n("VU/8")(G,X,!1,function(t){n("eqIO")},null,null).exports},data:function(){return{songs:[]}},computed:E()({},Object(b.b)(["isUserLoggedIn"])),mounted:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t.songs=e.sent.data;case 3:case"end":return e.stop()}},e,t)}))()}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{row:"","justify-center":""}},[this.isUserLoggedIn?e("v-flex",{attrs:{xs5:"","mr-3":""}},[e("songs-bookmarks"),this._v(" "),e("recently-viewed-songs",{staticClass:"mt-2"})],1):this._e(),this._v(" "),e("v-flex",{attrs:{xs6:""}},[e("songs-search-panel"),this._v(" "),e("songs-panel",{staticClass:"mt-2"})],1)],1)},staticRenderFns:[]};var et=n("VU/8")(Z,tt,!1,function(t){n("rKpa")},"data-v-c6a55ebe",null).exports,nt=n("fZjL"),rt=n.n(nt),st={data:function(){return{song:{title:null,artist:null,genre:null,album:null,albumImageUrl:null,youtubeId:null,lyrics:null,tab:null},error:null,required:function(t){return!!t||"Необходимо заполнить"}}},methods:{add:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,rt()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Пожалуйста, заполните все поля",e.abrupt("return");case 5:return e.prev=5,e.next=8,A(t.song);case 8:t.$router.push({name:"songs"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}},e,t,[[5,11]])}))()}}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-2 pt-2 pb-2",attrs:{xs4:""}},[n("panel",{attrs:{title:"Данные о песне"}},[n("v-text-field",{attrs:{required:"",rules:[t.required],name:"title",label:"Название"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"artist",label:"Исполнитель"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"genre",label:"Жанр"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"album",label:"Альбом"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"albumImageUrl",label:"Постер"},model:{value:t.song.albumImageUrl,callback:function(e){t.$set(t.song,"albumImageUrl",e)},expression:"song.albumImageUrl"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"youtubeId",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1),t._v(" "),n("v-flex",{staticClass:"pl-2 pr-4 pt-2 pb-2",attrs:{xs8:""}},[n("panel",{attrs:{title:"Текст песни"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[n("v-textarea",{attrs:{name:"lyrics",label:"Текст песни",rows:"19"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[n("v-textarea",{attrs:{name:"tab",label:"Перевод",rows:"19"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{center:""}},[t.error?n("div",{staticClass:"error-msg"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.add}},[t._v("Добавить песню")])],1)],1)},staticRenderFns:[]};var ot=n("VU/8")(st,at,!1,function(t){n("TVVr")},null,null).exports,lt={props:["song"],data:function(){return{bookmark:!1}},computed:E()({},Object(b.b)(["isUserLoggedIn","user"])),watch:{song:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isUserLoggedIn){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,M({songId:t.song.id});case 5:(n=e.sent.data).length&&(t.bookmark=n[0]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[2,9]])}))()}},methods:{setAsBookmark:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J({songId:t.song.id});case 3:t.bookmark=e.sent.data,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},unsetBookmark:function(){var t=this;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(t.bookmark.id);case 3:t.bookmark=null,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()}}},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Информация о песне"}},[n("v-layout",{staticClass:"song",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"mt-4",attrs:{xs6:""}},[n("img",{staticClass:"album-image",attrs:{src:t.song.albumImageUrl,alt:"Album cover"}}),t._v(" "),n("div",{staticClass:"song-album"},[t._v("\n        "+t._s(t.song.album)+"\n      ")])]),t._v(" "),n("v-flex",{staticClass:"mt-4",attrs:{xs6:""}},[n("div",{staticClass:"song-title"},[t._v("\n        "+t._s(t.song.title)+"\n      ")]),t._v(" "),n("div",{staticClass:"song-artist"},[t._v("\n        "+t._s(t.song.artist)+"\n      ")]),t._v(" "),n("div",{staticClass:"song-genre"},[t._v("\n        "+t._s(t.song.genre)+"\n      ")]),t._v(" "),n("v-btn",{staticClass:"teal darken-4 mt-4",attrs:{dark:"",to:{name:"songs-edit",params:function(){return{songId:t.song.id}}}}},[t._v("\n        Отредактировать\n      ")]),t._v(" "),t.isUserLoggedIn&&!t.bookmark?n("v-btn",{staticClass:"teal darken-4 mt-4",attrs:{dark:""},on:{click:t.setAsBookmark}},[t._v("\n        Добавить в избранное\n      ")]):t._e(),t._v(" "),t.isUserLoggedIn&&t.bookmark?n("v-btn",{staticClass:"teal darken-4 mt-4",attrs:{dark:""},on:{click:t.unsetBookmark}},[t._v("\n        Убрать из избранного\n      ")]):t._e()],1)],1)],1)},staticRenderFns:[]};var ut=n("VU/8")(lt,it,!1,function(t){n("7Q1d")},"data-v-14f76ff7",null).exports,ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("panel",{attrs:{title:"Видеоклип"}},[e("youtube",{attrs:{"video-id":this.youtubeId,"player-width":"680","player-height":"400"}})],1)},staticRenderFns:[]};var dt=n("VU/8")({props:["youtubeId"]},ct,!1,function(t){n("wLD7")},null,null).exports,pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Текст песни"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyrics,expression:"lyrics"}],attrs:{readonly:"",rows:"30"},domProps:{value:t.lyrics},on:{input:function(e){e.target.composing||(t.lyrics=e.target.value)}}})])},staticRenderFns:[]};var vt=n("VU/8")({props:["lyrics"]},pt,!1,function(t){n("gyUH")},null,null).exports,mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{title:"Перевод"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.translation,expression:"translation"}],attrs:{readonly:"",rows:"30"},domProps:{value:t.translation},on:{input:function(e){e.target.composing||(t.translation=e.target.value)}}})])},staticRenderFns:[]},ft=n("VU/8")({props:["translation"]},mt,!1,null,null,null).exports,gt={data:function(){return{song:{}}},computed:E()({},Object(b.b)(["user","isUserLoggedIn","route"])),mounted:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route.params.songId,e.next=3,T(n);case 3:t.song=e.sent.data[0],t.isUserLoggedIn&&D({songId:n});case 5:case"end":return e.stop()}},e,t)}))()},components:{SongMetadata:ut,YouTube:dt,Lyrics:vt,Translation:ft}},bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-layout",{attrs:{column:""}},[e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs10:""}},[e("song-metadata",{attrs:{song:this.song}})],1),this._v(" "),e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs10:""}},[e("you-tube",{attrs:{youtubeId:this.song.youtubeId}})],1)],1),this._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[e("lyrics",{attrs:{lyrics:this.song.lyrics}})],1),this._v(" "),e("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[e("translation",{attrs:{translation:this.song.tab}})],1)],1)],1)},staticRenderFns:[]};var ht=n("VU/8")(gt,bt,!1,function(t){n("pQeu")},null,null).exports,xt={data:function(){return{song:{title:null,artist:null,genre:null,album:null,albumImageUrl:null,youtubeId:null,lyrics:null,tab:null},error:null,required:function(t){return!!t||"Необходимо заполнить"}}},methods:{saveSong:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,rt()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Пожалуйста, заполните все поля",e.abrupt("return");case 5:return n=t.$store.state.route.params.songId,e.prev=6,e.next=9,O(t.song);case 9:t.$router.push({name:"song",params:{songId:n}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[6,12]])}))()}},mounted:function(){var t=this;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$store.state.route.params.songId,e.next=4,T(n);case 4:t.song=e.sent.data[0],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-2 pt-2 pb-2",attrs:{xs4:""}},[n("panel",{attrs:{title:"Данные о песне"}},[n("v-text-field",{attrs:{required:"",rules:[t.required],name:"title",label:"Название"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"artist",label:"Исполнитель"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"genre",label:"Жанр"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"album",label:"Альбом"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"albumImageUrl",label:"Постер"},model:{value:t.song.albumImageUrl,callback:function(e){t.$set(t.song,"albumImageUrl",e)},expression:"song.albumImageUrl"}}),t._v(" "),n("v-text-field",{attrs:{required:"",rules:[t.required],name:"youtubeId",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1),t._v(" "),n("v-flex",{staticClass:"pl-2 pr-4 pt-2 pb-2",attrs:{xs8:""}},[n("panel",{attrs:{title:"Текст песни"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{xs6:""}},[n("v-textarea",{attrs:{name:"lyrics",label:"Текст песни",rows:"19"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),n("v-flex",{staticClass:"pl-4 pr-4 pt-2 pb-2",attrs:{x6:""}},[n("v-textarea",{attrs:{name:"tab",label:"Перевод",rows:"19"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{center:""}},[t.error?n("div",{staticClass:"error-msg"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("v-btn",{staticClass:"teal darken-4",attrs:{dark:""},on:{click:t.saveSong}},[t._v("Сохранить")])],1)],1)},staticRenderFns:[]};var kt=n("VU/8")(xt,_t,!1,function(t){n("0t0+")},"data-v-a8c6be02",null).exports;r.default.use(i.a);var wt=new i.a({routes:[{path:"/",name:"root",component:c},{path:"/register",name:"register",component:U},{path:"/login",name:"login",component:L},{path:"/songs",name:"songs",component:et},{path:"/songs/create",name:"songs-create",component:ot},{path:"/songs/:songId",name:"song",component:ht},{path:"/songs/:songId/edit",name:"songs-edit",component:kt}]}),yt=n("3EgV"),It=n.n(yt),Ut=n("9JMe"),$t=(n("7zck"),n("5/be")),Ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white elevation-2"},[n("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:"",dark:""}},[n("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),t._t("action")],2),t._v(" "),n("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",[t._v("Загрузка...")])],2)],1)},staticRenderFns:[]};var qt=n("VU/8")({props:["title"]},Ct,!1,function(t){n("rqXw")},"data-v-22674936",null).exports;r.default.config.productionTip=!1,r.default.use(It.a),r.default.use($t.a),r.default.component("panel",qt),Object(Ut.sync)(x,wt),new r.default({el:"#app",router:wt,store:x,components:{App:l},template:"<App/>"})},NSHe:function(t,e){},TVVr:function(t,e){},eqIO:function(t,e){},gyUH:function(t,e){},k1PI:function(t,e){},lsfd:function(t,e){},pQeu:function(t,e){},rKpa:function(t,e){},rqXw:function(t,e){},wLD7:function(t,e){},yhNW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.dbdba7e473b54336aad6.js.map